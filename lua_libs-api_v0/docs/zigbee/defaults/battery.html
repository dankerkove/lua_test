

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Battery &mdash; SmartThings Edge Device Drivers  documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="SmartThings Edge Device Drivers  documentation" href="../../index.html"/>
        <link rel="up" title="Zigbee Driver Capability Defaults" href="../defaults.html"/>
        <link rel="next" title="Color Control" href="colorControl.html"/>
        <link rel="prev" title="Zigbee Driver Capability Defaults" href="../defaults.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> SmartThings Edge Device Drivers
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Guides:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../guides/getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/first-driver.html">Writing your first Lua driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/package.html">Package Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/lan.html">LAN Edge Device Driver Development Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/rpc-client.html">Writing an RPC Client Driver</a></li>
</ul>
<p class="caption"><span class="caption-text">References:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../lua_environment.html">Lua Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../log.html">Logging Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../utils.html">Utils Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../buf.html">Buffer Library</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../zigbee.html">Zigbee Libraries</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../driver.html">Zigbee driver structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../device.html">ZigbeeDevice Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../zigbee_message_handlers.html">Zigbee Driver RX message handlers</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../defaults.html">Zigbee Driver Capability Defaults</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../defaults.html#handler-functions">Handler Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../defaults.html#zigbee-handlers">zigbee_handlers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../defaults.html#capability-handlers">capability_handlers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../defaults.html#attribute-configurations">attribute_configurations</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../defaults.html#existing-defaults">Existing Defaults</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">Battery</a></li>
<li class="toctree-l4"><a class="reference internal" href="colorControl.html">Color Control</a></li>
<li class="toctree-l4"><a class="reference internal" href="colorTemperature.html">Color Temperature</a></li>
<li class="toctree-l4"><a class="reference internal" href="contactSensor.html">Contact Sensor</a></li>
<li class="toctree-l4"><a class="reference internal" href="energyMeter.html">Energy Meter</a></li>
<li class="toctree-l4"><a class="reference internal" href="illuminanceMeasurement.html">Illuminance Measurement</a></li>
<li class="toctree-l4"><a class="reference internal" href="lock.html">Lock</a></li>
<li class="toctree-l4"><a class="reference internal" href="motionSensor.html">Motion Sensor</a></li>
<li class="toctree-l4"><a class="reference internal" href="occupancySensor.html">Occupancy Sensor</a></li>
<li class="toctree-l4"><a class="reference internal" href="powerMeter.html">Power Meter</a></li>
<li class="toctree-l4"><a class="reference internal" href="powerSource.html">Power Source</a></li>
<li class="toctree-l4"><a class="reference internal" href="relativeHumidityMeasurement.html">Relative Humidity Measurement</a></li>
<li class="toctree-l4"><a class="reference internal" href="smokeDetector.html">Smoke Detector</a></li>
<li class="toctree-l4"><a class="reference internal" href="soundSensor.html">Sound Sensor</a></li>
<li class="toctree-l4"><a class="reference internal" href="switch.html">Switch</a></li>
<li class="toctree-l4"><a class="reference internal" href="switchLevel.html">Switch Level</a></li>
<li class="toctree-l4"><a class="reference internal" href="thermostatCoolingSetpoint.html">Thermostat Cooling Setpoint</a></li>
<li class="toctree-l4"><a class="reference internal" href="thermostatHeatingSetpoint.html">Thermostat Heating Setpoint</a></li>
<li class="toctree-l4"><a class="reference internal" href="valve.html">Valve</a></li>
<li class="toctree-l4"><a class="reference internal" href="waterSensor.html">Water Sensor</a></li>
<li class="toctree-l4"><a class="reference internal" href="windowShade.html">WindowShade</a></li>
<li class="toctree-l4"><a class="reference internal" href="windowShadeLevel.html">WindowShadeLevel</a></li>
<li class="toctree-l4"><a class="reference internal" href="windowShadePreset.html">WindowShadePreset</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../messages.html">Zigbee Messages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_types.html">Zigbee Data Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../zcl/zcl_commands.html">ZCL Global Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../zcl/zcl_clusters.html">ZCL Clusters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../zdo/zdo_commands.html">ZDO Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated.html">Generated Zigbee Code</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../zwave/zwave.html">Z-Wave Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../drivers.html">Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../capabilities.html">Capabilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../device.html">Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dispatchers.html">Dispatchers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../driver_tests.html">Driver Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datastore.html">Datastore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../socket.html">Socket Library</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">SmartThings Edge Device Drivers</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../reference/index.html">&lt;no title&gt;</a> &raquo;</li>
        
          <li><a href="../zigbee.html">Zigbee Libraries</a> &raquo;</li>
        
          <li><a href="../defaults.html">Zigbee Driver Capability Defaults</a> &raquo;</li>
        
      <li>Battery</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/zigbee/defaults/battery.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="battery">
<h1>Battery<a class="headerlink" href="#battery" title="Permalink to this headline">¶</a></h1>
<dl class="lua class">
<dt id="st.zigbee.defaults.battery.BatteryVoltageConfiguration">
<em class="property">class </em><code class="sig-name descname">st.zigbee.defaults.battery.BatteryVoltageConfiguration</code><a class="headerlink" href="#st.zigbee.defaults.battery.BatteryVoltageConfiguration" title="Permalink to this definition">¶</a></dt>
<dd><dl class="lua attribute">
<dt id="st.zigbee.defaults.battery.BatteryVoltageConfiguration.cluster">
<code class="sig-name descname">cluster</code><em class="property">: </em>number<a class="headerlink" href="#st.zigbee.defaults.battery.BatteryVoltageConfiguration.cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>PowerConfiguration ID 0x0001</p>
</dd></dl>

<dl class="lua attribute">
<dt id="st.zigbee.defaults.battery.BatteryVoltageConfiguration.attribute">
<code class="sig-name descname">attribute</code><em class="property">: </em>number<a class="headerlink" href="#st.zigbee.defaults.battery.BatteryVoltageConfiguration.attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>BatteryVoltage ID 0x0020</p>
</dd></dl>

<dl class="lua attribute">
<dt id="st.zigbee.defaults.battery.BatteryVoltageConfiguration.minimum_interval">
<code class="sig-name descname">minimum_interval</code><em class="property">: </em>number<a class="headerlink" href="#st.zigbee.defaults.battery.BatteryVoltageConfiguration.minimum_interval" title="Permalink to this definition">¶</a></dt>
<dd><p>30 seconds</p>
</dd></dl>

<dl class="lua attribute">
<dt id="st.zigbee.defaults.battery.BatteryVoltageConfiguration.maximum_interval">
<code class="sig-name descname">maximum_interval</code><em class="property">: </em>number<a class="headerlink" href="#st.zigbee.defaults.battery.BatteryVoltageConfiguration.maximum_interval" title="Permalink to this definition">¶</a></dt>
<dd><p>21600 seconds (6 hours)</p>
</dd></dl>

<dl class="lua attribute">
<dt id="st.zigbee.defaults.battery.BatteryVoltageConfiguration.data_type">
<code class="sig-name descname">data_type</code><em class="property">: </em>Uint8<a class="headerlink" href="#st.zigbee.defaults.battery.BatteryVoltageConfiguration.data_type" title="Permalink to this definition">¶</a></dt>
<dd><p>the Uint8 class</p>
</dd></dl>

<dl class="lua attribute">
<dt id="st.zigbee.defaults.battery.BatteryVoltageConfiguration.reportable_change">
<code class="sig-name descname">reportable_change</code><em class="property">: </em>number<a class="headerlink" href="#st.zigbee.defaults.battery.BatteryVoltageConfiguration.reportable_change" title="Permalink to this definition">¶</a></dt>
<dd><p>1 (.01 volts)</p>
</dd></dl>

</dd></dl>

<dl class="lua class">
<dt id="st.zigbee.defaults.battery.BatteryPercentageConfiguration">
<em class="property">class </em><code class="sig-name descname">st.zigbee.defaults.battery.BatteryPercentageConfiguration</code><a class="headerlink" href="#st.zigbee.defaults.battery.BatteryPercentageConfiguration" title="Permalink to this definition">¶</a></dt>
<dd><dl class="lua attribute">
<dt id="st.zigbee.defaults.battery.BatteryPercentageConfiguration.cluster">
<code class="sig-name descname">cluster</code><em class="property">: </em>number<a class="headerlink" href="#st.zigbee.defaults.battery.BatteryPercentageConfiguration.cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>PowerConfiguration ID 0x0001</p>
</dd></dl>

<dl class="lua attribute">
<dt id="st.zigbee.defaults.battery.BatteryPercentageConfiguration.attribute">
<code class="sig-name descname">attribute</code><em class="property">: </em>number<a class="headerlink" href="#st.zigbee.defaults.battery.BatteryPercentageConfiguration.attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>BatteryPercentageRemaining ID 0x0021</p>
</dd></dl>

<dl class="lua attribute">
<dt id="st.zigbee.defaults.battery.BatteryPercentageConfiguration.minimum_interval">
<code class="sig-name descname">minimum_interval</code><em class="property">: </em>number<a class="headerlink" href="#st.zigbee.defaults.battery.BatteryPercentageConfiguration.minimum_interval" title="Permalink to this definition">¶</a></dt>
<dd><p>30 seconds</p>
</dd></dl>

<dl class="lua attribute">
<dt id="st.zigbee.defaults.battery.BatteryPercentageConfiguration.maximum_interval">
<code class="sig-name descname">maximum_interval</code><em class="property">: </em>number<a class="headerlink" href="#st.zigbee.defaults.battery.BatteryPercentageConfiguration.maximum_interval" title="Permalink to this definition">¶</a></dt>
<dd><p>21600 seconds (6 hours)</p>
</dd></dl>

<dl class="lua attribute">
<dt id="st.zigbee.defaults.battery.BatteryPercentageConfiguration.data_type">
<code class="sig-name descname">data_type</code><em class="property">: </em>Uint8<a class="headerlink" href="#st.zigbee.defaults.battery.BatteryPercentageConfiguration.data_type" title="Permalink to this definition">¶</a></dt>
<dd><p>the Uint8 class</p>
</dd></dl>

<dl class="lua attribute">
<dt id="st.zigbee.defaults.battery.BatteryPercentageConfiguration.reportable_change">
<code class="sig-name descname">reportable_change</code><em class="property">: </em>number<a class="headerlink" href="#st.zigbee.defaults.battery.BatteryPercentageConfiguration.reportable_change" title="Permalink to this definition">¶</a></dt>
<dd><p>1 (.5 percent)</p>
</dd></dl>

</dd></dl>

<dl class="lua class">
<dt id="st.zigbee.defaults.battery">
<em class="property">class </em><code class="sig-name descname">st.zigbee.defaults.battery</code><a class="headerlink" href="#st.zigbee.defaults.battery" title="Permalink to this definition">¶</a></dt>
<dd><dl class="lua attribute">
<dt id="st.zigbee.defaults.battery.zigbee_handlers">
<code class="sig-name descname">zigbee_handlers</code><em class="property">: </em>table<a class="headerlink" href="#st.zigbee.defaults.battery.zigbee_handlers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="lua attribute">
<dt id="st.zigbee.defaults.battery.attribute_configurations">
<code class="sig-name descname">attribute_configurations</code><em class="property">: </em>table<a class="headerlink" href="#st.zigbee.defaults.battery.attribute_configurations" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="lua attribute">
<dt id="st.zigbee.defaults.battery.capability_handlers">
<code class="sig-name descname">capability_handlers</code><em class="property">: </em>table<a class="headerlink" href="#st.zigbee.defaults.battery.capability_handlers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="lua attribute">
<dt id="st.zigbee.defaults.battery.default_voltage_configuration">
<code class="sig-name descname">default_voltage_configuration</code><em class="property">: </em>st.zigbee.defaults.battery.BatteryVoltageConfiguration<a class="headerlink" href="#st.zigbee.defaults.battery.default_voltage_configuration" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="lua attribute">
<dt id="st.zigbee.defaults.battery.default_percentage_configuration">
<code class="sig-name descname">default_percentage_configuration</code><em class="property">: </em>st.zigbee.defaults.battery.BatteryPercentageConfiguration<a class="headerlink" href="#st.zigbee.defaults.battery.default_percentage_configuration" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="lua staticmethod">
<dt id="st.zigbee.defaults.battery.battery_volt_attr_handler">
<em class="property">static </em><code class="sig-name descname">battery_volt_attr_handler</code><span class="sig-paren">(</span><em class="sig-param">driver</em>, <em class="sig-param">device</em>, <em class="sig-param">value</em>, <em class="sig-param">zb_rx</em><span class="sig-paren">)</span><a class="headerlink" href="#st.zigbee.defaults.battery.battery_volt_attr_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Default handler for battery voltage attribute on the power config cluster</p>
<p>This converts the Uint8 value from 0-254 to Battery.battery(0-100).  This follows the default linear range of 2 to 3
volts so is only useful for coin cell batteries and of limited use there.  It is recommended if possible to use
either the battery percentage remaining attribute if available, or to implement a custom conversion of voltage to
percentage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>driver</strong> (<a class="reference internal" href="../driver.html#ZigbeeDriver" title="ZigbeeDriver"><em>ZigbeeDriver</em></a>) – The current driver running containing necessary context for execution</p></li>
<li><p><strong>device</strong> (<a class="reference internal" href="../device.html#ZigbeeDevice" title="ZigbeeDevice"><em>ZigbeeDevice</em></a>) – The device this message was received from containing identifying information</p></li>
<li><p><strong>value</strong> (<a class="reference internal" href="../data_types.html#Uint8" title="Uint8"><em>Uint8</em></a>) – the value of the battery voltage on the power config cluster</p></li>
<li><p><strong>zb_rx</strong> (<a class="reference internal" href="../messages.html#ZigbeeMessageRx" title="ZigbeeMessageRx"><em>ZigbeeMessageRx</em></a>) – the full message this report came in</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="lua staticmethod">
<dt id="st.zigbee.defaults.battery.battery_perc_attr_handler">
<em class="property">static </em><code class="sig-name descname">battery_perc_attr_handler</code><span class="sig-paren">(</span><em class="sig-param">driver</em>, <em class="sig-param">device</em>, <em class="sig-param">value</em>, <em class="sig-param">zb_rx</em><span class="sig-paren">)</span><a class="headerlink" href="#st.zigbee.defaults.battery.battery_perc_attr_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Default handler for battery percentage attribute on the power config cluster</p>
<p>This converts the Uint8 value from 0-254 to Battery.battery(0-100).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>driver</strong> (<a class="reference internal" href="../driver.html#ZigbeeDriver" title="ZigbeeDriver"><em>ZigbeeDriver</em></a>) – The current driver running containing necessary context for execution</p></li>
<li><p><strong>device</strong> (<a class="reference internal" href="../device.html#ZigbeeDevice" title="ZigbeeDevice"><em>ZigbeeDevice</em></a>) – The device this message was received from containing identifying information</p></li>
<li><p><strong>value</strong> (<a class="reference internal" href="../data_types.html#Uint8" title="Uint8"><em>Uint8</em></a>) – the value of the battery percentage on the power config cluster</p></li>
<li><p><strong>zb_rx</strong> (<a class="reference internal" href="../messages.html#ZigbeeMessageRx" title="ZigbeeMessageRx"><em>ZigbeeMessageRx</em></a>) – the full message this report came in</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="colorControl.html" class="btn btn-neutral float-right" title="Color Control" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../defaults.html" class="btn btn-neutral" title="Zigbee Driver Capability Defaults" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, SmartThings Developers.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> and ❤️  using a custom <a href="https://github.com/LinxiFan/Sphinx-theme">theme</a> based on <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>